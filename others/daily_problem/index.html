



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
        <link rel="canonical" href="http:// www.chuxiaoyi.cn/others/daily_problem/">
      
      
        <meta name="author" content="褚晓逸">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.3, mkdocs-material-4.2.0">
    
    
      
        <title>七七八八 - cxy's NoteBook</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.750b69bd.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/application-palette.224b79ff.css">
      
      
        
        
        <meta name="theme-color" content="#3f51b5">
      
    
    
      <script src="../../assets/javascripts/modernizr.74668098.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
    
      
        
<script>
  window.ga = window.ga || function() {
    (ga.q = ga.q || []).push(arguments)
  }
  ga.l = +new Date
  /* Setup integration and send page view */
  ga("create", "UA-36723568-3", "mkdocs.org")
  ga("set", "anonymizeIp", true)
  ga("send", "pageview")
  /* Register handler to log search on blur */
  document.addEventListener("DOMContentLoaded", () => {
    if (document.forms.search) {
      var query = document.forms.search.query
      query.addEventListener("blur", function() {
        if (this.value) {
          var path = document.location.pathname;
          ga("send", "pageview", path + "?q=" + this.value)
        }
      })
    }
  })
</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="__github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#1" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="http:// www.chuxiaoyi.cn" title="cxy's NoteBook" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              cxy's NoteBook
            </span>
            <span class="md-header-nav__topic">
              七七八八
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/ChuXiaoYi/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    GitHub
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="http:// www.chuxiaoyi.cn" title="cxy's NoteBook" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    cxy's NoteBook
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/ChuXiaoYi/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-1" type="checkbox" id="nav-1">
    
    <label class="md-nav__link" for="nav-1">
      Python
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-1">
        Python
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Python/python_with/" title="Python中的上下文管理器和with语句" class="md-nav__link">
      Python中的上下文管理器和with语句
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-1-2" type="checkbox" id="nav-1-2">
    
    <label class="md-nav__link" for="nav-1-2">
      python3.7标准库
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-1-2">
        python3.7标准库
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Python/python_functools/" title="functools" class="md-nav__link">
      functools
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Python/python_itertools/" title="itertools" class="md-nav__link">
      itertools
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Python/python_collections_namedtuple/" title="collections.namedtuple" class="md-nav__link">
      collections.namedtuple
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Python/python_collections_deque/" title="collections.deque" class="md-nav__link">
      collections.deque
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Python/python_collections_chainmap/" title="collections.ChainMap" class="md-nav__link">
      collections.ChainMap
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Python/python_collections_counter/" title="collections.Counter" class="md-nav__link">
      collections.Counter
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Python/python_collections_ordereddict/" title="collections.OrderedDict" class="md-nav__link">
      collections.OrderedDict
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Django
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Django
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-1" type="checkbox" id="nav-2-1">
    
    <label class="md-nav__link" for="nav-2-1">
      项目实战
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-2-1">
        项目实战
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Django/django_blog-01/" title="Django项目开发实战-博客" class="md-nav__link">
      Django项目开发实战-博客
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-2" type="checkbox" id="nav-2-2">
    
    <label class="md-nav__link" for="nav-2-2">
      django-rest-framework
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-2-2">
        django-rest-framework
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Django/drf-01/" title="django-rest-framework文档整理-Serialization（一）" class="md-nav__link">
      django-rest-framework文档整理-Serialization（一）
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Django/drf-02/" title="django-rest-framework文档整理-Request and Response（二）" class="md-nav__link">
      django-rest-framework文档整理-Request and Response（二）
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" checked>
    
    <label class="md-nav__link" for="nav-3">
      其他
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        其他
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        七七八八
      </label>
    
    <a href="./" title="七七八八" class="md-nav__link md-nav__link--active">
      七七八八
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1" title="1. 小数转换为百分数" class="md-nav__link">
    1. 小数转换为百分数
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2" title="2. 文件操作" class="md-nav__link">
    2. 文件操作
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-csv" title="3. 读写csv文件" class="md-nav__link">
    3. 读写csv文件
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-python36ini" title="4. python3.6读ini配置文件" class="md-nav__link">
    4. python3.6读ini配置文件
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-django" title="5. django之允许外部机器访问本机服务" class="md-nav__link">
    5. django之允许外部机器访问本机服务
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-pythonpool" title="6. Python多进程并发操作中进程池Pool的应用" class="md-nav__link">
    6. Python多进程并发操作中进程池Pool的应用
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7-queue" title="7. 进程池使用queue队列" class="md-nav__link">
    7. 进程池使用queue队列
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#8-operatoritemgetter" title="8. operator.itemgetter()" class="md-nav__link">
    8. operator.itemgetter()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#9-sorted" title="9. sorted()内建函数" class="md-nav__link">
    9. sorted()内建函数
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#10-python27-unicodedecodeerror-ascii-codec-cant-decode-byte-0xe5-in-position-108-ordinal-not-in-range128" title="10. python2.7 解决UnicodeDecodeError: ‘ascii’ codec can’t decode byte 0xe5 in position 108: ordinal not in range(128。。。。" class="md-nav__link">
    10. python2.7 解决UnicodeDecodeError: ‘ascii’ codec can’t decode byte 0xe5 in position 108: ordinal not in range(128。。。。
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#11-python" title="11. 几个有用的python函数 (笛卡尔积, 排列, 组合)" class="md-nav__link">
    11. 几个有用的python函数 (笛卡尔积, 排列, 组合)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#12-python" title="12. python求两个链表组成的数字的和" class="md-nav__link">
    12. python求两个链表组成的数字的和
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#13-pythondivmoda-b" title="13. python内置函数——divmod(a, b)" class="md-nav__link">
    13. python内置函数——divmod(a, b)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#14-pythonenumeratesequence-start0" title="14. python内置函数——enumerate(sequence, start=0)" class="md-nav__link">
    14. python内置函数——enumerate(sequence, start=0)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#15-pythonfilterfunction-iterable" title="15. python内置函数——filter(function, iterable)" class="md-nav__link">
    15. python内置函数——filter(function, iterable)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#16-datetime" title="16. datetime" class="md-nav__link">
    16. datetime
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#17-could-not-install-packages-due-to-an-environmenterror-errno-13-permission-denied-librarypython27site-packagesvine" title="17. 针对“could not install packages due to an EnvironmentError: [Errno 13] Permission denied: '/Library/Python/2.7/site-packages/vine'”的解决方式" class="md-nav__link">
    17. 针对“could not install packages due to an EnvironmentError: [Errno 13] Permission denied: '/Library/Python/2.7/site-packages/vine'”的解决方式
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#18-xml" title="18. 字典转xml" class="md-nav__link">
    18. 字典转xml
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#19-orand" title="19. or和and" class="md-nav__link">
    19. or和and
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#20-xmltodict" title="20. xmltodict的坑" class="md-nav__link">
    20. xmltodict的坑
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#21-if-else" title="21. 列表生成式中的if-else" class="md-nav__link">
    21. 列表生成式中的if-else
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#22-mysql-said-authentication-plugin-caching_sha2_password-cannot-be-loaded-dlopenusrlocal" title="22. 针对MySQL said: Authentication plugin 'caching_sha2_password' cannot be loaded: dlopen(/usr/local/...的问题" class="md-nav__link">
    22. 针对MySQL said: Authentication plugin 'caching_sha2_password' cannot be loaded: dlopen(/usr/local/...的问题
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#23-django-model" title="23. django model获取特定字段" class="md-nav__link">
    23. django model获取特定字段
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#24-connection-reset-by-peer" title="24. Connection reset by peer的常见原因" class="md-nav__link">
    24. Connection reset by peer的常见原因
  </a>
  
</li>
      
      
      
      
      
        <li class="md-nav__item">
          <a href="#__comments" title="Comments" class="md-nav__link md-nav__link--active">
            Comments
          </a>
        </li>
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../calculate_string_similar/" title="计算字符串相似度的一些方法" class="md-nav__link">
      计算字符串相似度的一些方法
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1" title="1. 小数转换为百分数" class="md-nav__link">
    1. 小数转换为百分数
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2" title="2. 文件操作" class="md-nav__link">
    2. 文件操作
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-csv" title="3. 读写csv文件" class="md-nav__link">
    3. 读写csv文件
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-python36ini" title="4. python3.6读ini配置文件" class="md-nav__link">
    4. python3.6读ini配置文件
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-django" title="5. django之允许外部机器访问本机服务" class="md-nav__link">
    5. django之允许外部机器访问本机服务
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-pythonpool" title="6. Python多进程并发操作中进程池Pool的应用" class="md-nav__link">
    6. Python多进程并发操作中进程池Pool的应用
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7-queue" title="7. 进程池使用queue队列" class="md-nav__link">
    7. 进程池使用queue队列
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#8-operatoritemgetter" title="8. operator.itemgetter()" class="md-nav__link">
    8. operator.itemgetter()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#9-sorted" title="9. sorted()内建函数" class="md-nav__link">
    9. sorted()内建函数
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#10-python27-unicodedecodeerror-ascii-codec-cant-decode-byte-0xe5-in-position-108-ordinal-not-in-range128" title="10. python2.7 解决UnicodeDecodeError: ‘ascii’ codec can’t decode byte 0xe5 in position 108: ordinal not in range(128。。。。" class="md-nav__link">
    10. python2.7 解决UnicodeDecodeError: ‘ascii’ codec can’t decode byte 0xe5 in position 108: ordinal not in range(128。。。。
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#11-python" title="11. 几个有用的python函数 (笛卡尔积, 排列, 组合)" class="md-nav__link">
    11. 几个有用的python函数 (笛卡尔积, 排列, 组合)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#12-python" title="12. python求两个链表组成的数字的和" class="md-nav__link">
    12. python求两个链表组成的数字的和
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#13-pythondivmoda-b" title="13. python内置函数——divmod(a, b)" class="md-nav__link">
    13. python内置函数——divmod(a, b)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#14-pythonenumeratesequence-start0" title="14. python内置函数——enumerate(sequence, start=0)" class="md-nav__link">
    14. python内置函数——enumerate(sequence, start=0)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#15-pythonfilterfunction-iterable" title="15. python内置函数——filter(function, iterable)" class="md-nav__link">
    15. python内置函数——filter(function, iterable)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#16-datetime" title="16. datetime" class="md-nav__link">
    16. datetime
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#17-could-not-install-packages-due-to-an-environmenterror-errno-13-permission-denied-librarypython27site-packagesvine" title="17. 针对“could not install packages due to an EnvironmentError: [Errno 13] Permission denied: '/Library/Python/2.7/site-packages/vine'”的解决方式" class="md-nav__link">
    17. 针对“could not install packages due to an EnvironmentError: [Errno 13] Permission denied: '/Library/Python/2.7/site-packages/vine'”的解决方式
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#18-xml" title="18. 字典转xml" class="md-nav__link">
    18. 字典转xml
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#19-orand" title="19. or和and" class="md-nav__link">
    19. or和and
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#20-xmltodict" title="20. xmltodict的坑" class="md-nav__link">
    20. xmltodict的坑
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#21-if-else" title="21. 列表生成式中的if-else" class="md-nav__link">
    21. 列表生成式中的if-else
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#22-mysql-said-authentication-plugin-caching_sha2_password-cannot-be-loaded-dlopenusrlocal" title="22. 针对MySQL said: Authentication plugin 'caching_sha2_password' cannot be loaded: dlopen(/usr/local/...的问题" class="md-nav__link">
    22. 针对MySQL said: Authentication plugin 'caching_sha2_password' cannot be loaded: dlopen(/usr/local/...的问题
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#23-django-model" title="23. django model获取特定字段" class="md-nav__link">
    23. django model获取特定字段
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#24-connection-reset-by-peer" title="24. Connection reset by peer的常见原因" class="md-nav__link">
    24. Connection reset by peer的常见原因
  </a>
  
</li>
      
      
      
      
      
        <li class="md-nav__item">
          <a href="#__comments" title="Comments" class="md-nav__link md-nav__link--active">
            Comments
          </a>
        </li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/ChuXiaoYi/edit/master/docs/others/daily_problem.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                  <h1>七七八八</h1>
                
                <h3 id="1">1. 小数转换为百分数<a class="headerlink" href="#1" title="Permanent link">&para;</a></h3>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">change_percent</span><span class="p">(</span><span class="n">num</span><span class="p">):</span>
    <span class="k">return</span> <span class="s2">&quot;</span><span class="si">%.2f%%</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">num</span> <span class="o">*</span> <span class="mi">100</span><span class="p">)</span>
</pre></div>
</td></tr></table>

<h3 id="2">2. 文件操作<a class="headerlink" href="#2" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>查看当前目录
 <table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">()</span>
</pre></div>
</td></tr></table>
 或
 <table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kn">from</span> <span class="nn">os</span> <span class="kn">import</span> <span class="n">path</span> 
<span class="n">d</span> <span class="o">=</span> <span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="vm">__file__</span><span class="p">)</span>
<span class="c1"># __file__ 为当前文件, 若果在ide中运行此行会报错,可改为  #d = path.dirname(&#39;.&#39;)</span>
</pre></div>
</td></tr></table></p>
</li>
<li>
<p>获得单个目录节点的子节点
 <table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">rootdir</span><span class="p">)</span>
</pre></div>
</td></tr></table></p>
</li>
<li>
<p>获取当前目录下的信息
 <table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="k">for</span> <span class="n">parent</span><span class="p">,</span><span class="n">dirnames</span><span class="p">,</span><span class="n">filenames</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="n">rootdir</span><span class="p">):</span>   <span class="c1">#三个参数：分别返回1.父目录 2.所有文件夹名字（不含路径）3.所有文件名字</span>

       <span class="k">for</span> <span class="n">dirname</span> <span class="ow">in</span>  <span class="n">dirnames</span><span class="p">:</span>                       <span class="c1">#输出文件夹信息</span>
           <span class="k">print</span> <span class="s2">&quot;parent is:&quot;</span> <span class="o">+</span> <span class="n">parent</span>
           <span class="k">print</span>  <span class="s2">&quot;dirname is&quot;</span> <span class="o">+</span> <span class="n">dirname</span>

       <span class="k">for</span> <span class="n">filename</span> <span class="ow">in</span> <span class="n">filenames</span><span class="p">:</span>                        <span class="c1">#输出文件信息</span>
           <span class="k">print</span> <span class="s2">&quot;parent is:&quot;</span> <span class="o">+</span> <span class="n">parent</span>
           <span class="k">print</span> <span class="s2">&quot;filename is:&quot;</span> <span class="o">+</span> <span class="n">filename</span>
           <span class="k">print</span> <span class="s2">&quot;the full name of the file is:&quot;</span> <span class="o">+</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span><span class="n">filename</span><span class="p">)</span> <span class="c1">#输出文件路径信息</span>
</pre></div>
</td></tr></table></p>
</li>
</ul>
<h3 id="3-csv">3. 读写csv文件<a class="headerlink" href="#3-csv" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>写入</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5
6</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="nn">csv</span>
<span class="k">def</span> <span class="nf">writer_to_csv</span><span class="p">(</span><span class="n">info</span><span class="p">):</span>
    <span class="n">result_csv</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;result.csv&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf8&#39;</span><span class="p">)</span>
    <span class="n">writer</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">writer</span><span class="p">(</span><span class="n">result_csv</span><span class="p">)</span>
    <span class="n">writer</span><span class="o">.</span><span class="n">writerow</span><span class="p">(</span><span class="n">info</span><span class="p">)</span>
    <span class="n">result_csv</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</td></tr></table>

</li>
<li>
<p>读出</p>
</li>
</ul>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5
6</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>   <span class="kn">import</span> <span class="nn">csv</span>
   <span class="k">def</span> <span class="nf">read_csv</span><span class="p">(</span><span class="nb">file</span><span class="p">):</span>
       <span class="n">csv_file</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="nb">file</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span>
       <span class="n">reader</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">reader</span><span class="p">(</span><span class="n">csv_file</span><span class="p">)</span>
       <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">reader</span><span class="p">:</span>
           <span class="k">yield</span> <span class="n">item</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</td></tr></table>

<h3 id="4-python36ini">4. python3.6读ini配置文件<a class="headerlink" href="#4-python36ini" title="Permanent link">&para;</a></h3>
<p><strong>说明</strong>：python2.7-3.5使用的是<code>ConfigParser</code>模块</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="nn">configparser</span>
</pre></div>
</td></tr></table>

<h3 id="5-django">5. django之允许外部机器访问本机服务<a class="headerlink" href="#5-django" title="Permanent link">&para;</a></h3>
<ol>
<li>
<p>开启django服务时，使用0.0.0.0:端口启动，例：
    <table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>./manage.py runserver 0.0.0.0:9999
</pre></div>
</td></tr></table></p>
</li>
<li>
<p>修改setting文件中的ALLOWED_HOSTS
    <table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>ALLOWED_HOSTS = [&#39;*&#39;, ]
</pre></div>
</td></tr></table>
    <font color='red'>注意：</font><code>['*', ]</code>一定要加<code>,</code></p>
</li>
</ol>
<h3 id="6-pythonpool">6. Python多进程并发操作中进程池Pool的应用<a class="headerlink" href="#6-pythonpool" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p><strong>说明：</strong></p>
<blockquote>
<ol>
<li>使用<code>Pool</code>类，需要通过<code>from multiprocessing import Pool</code>导入池</li>
<li><font color='red'>join方法必须在close或terminate之后使用。 </font></li>
</ol>
</blockquote>
</li>
<li>
<p><strong>apply_async()</strong></p>
<ul>
<li>
<p>函数原型：</p>
<p><code>apply_async(func[, args=()[, kwds={}[,callback=None]]])</code>，该方法非阻塞且支持结果返回进行回调。</p>
</li>
<li>
<p>示例：
    <table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="nn">time</span>
<span class="kn">from</span> <span class="nn">multiprocessing</span> <span class="kn">import</span> <span class="n">Pool</span>


<span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="n">fn</span><span class="p">):</span>
    <span class="c1"># fn: 函数参数是数据列表的一个元素</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">fn</span> <span class="o">*</span> <span class="n">fn</span>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">testFL</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>
    <span class="k">print</span><span class="p">(</span><span class="s1">&#39;顺序执行:&#39;</span><span class="p">)</span>  <span class="c1"># 顺序执行(也就是串行执行，单进程)</span>
    <span class="n">s</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">fn</span> <span class="ow">in</span> <span class="n">testFL</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="n">run</span><span class="p">(</span><span class="n">fn</span><span class="p">))</span>

    <span class="n">e1</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;顺序执行时间：&quot;</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="n">e1</span> <span class="o">-</span> <span class="n">s</span><span class="p">))</span>

    <span class="k">print</span><span class="p">(</span><span class="s1">&#39;多进程执行:&#39;</span><span class="p">)</span>  <span class="c1"># 创建多个进程，并行执行</span>
    <span class="n">pool</span> <span class="o">=</span> <span class="n">Pool</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>  <span class="c1"># 创建拥有5个进程数量的进程池</span>
    <span class="c1"># testFL:要处理的数据列表，run：处理testFL列表中数据的函数</span>
    <span class="c1"># rl = pool.map(run, testFL)</span>
    <span class="k">for</span> <span class="n">fn</span> <span class="ow">in</span> <span class="n">testFL</span><span class="p">:</span>
        <span class="n">pool</span><span class="o">.</span><span class="n">apply_async</span><span class="p">(</span><span class="n">run</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">(</span><span class="n">fn</span><span class="p">,</span> <span class="p">))</span>
    <span class="n">pool</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>  <span class="c1"># 关闭进程池，不再接受新的进程</span>
    <span class="n">pool</span><span class="o">.</span><span class="n">join</span><span class="p">()</span>  <span class="c1"># 主进程阻塞等待子进程的退出</span>
    <span class="n">e2</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;并行执行时间：&quot;</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="n">e2</span> <span class="o">-</span> <span class="n">e1</span><span class="p">))</span>
    <span class="c1"># print(rl)</span>
</pre></div>
</td></tr></table></p>
</li>
<li>响应：
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>顺序执行:
1
4
9
16
25
36
顺序执行时间： 6
多进程执行:
并行执行时间： 2
</pre></div>
</td></tr></table></li>
</ul>
</li>
<li>
<p><strong>map()</strong></p>
<ul>
<li>
<p>函数原型：</p>
<p><code>map(func, iterable[, chunksize=None])</code>，Pool类中的map方法，与内置的map函数用法行为基本一致，它会使进程阻塞直到返回结果。 
<font color='red'>注意：</font>虽然第二个参数是一个迭代器，但在实际使用中，必须在整个队列都就绪后，程序才会运行子进程。</p>
</li>
<li>
<p>示例：
    <table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="nn">time</span>
<span class="kn">from</span> <span class="nn">multiprocessing</span> <span class="kn">import</span> <span class="n">Pool</span>


<span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="n">fn</span><span class="p">):</span>
    <span class="c1"># fn: 函数参数是数据列表的一个元素</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">fn</span> <span class="o">*</span> <span class="n">fn</span>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">testFL</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]</span>
    <span class="k">print</span><span class="p">(</span><span class="s1">&#39;顺序执行:&#39;</span><span class="p">)</span>  <span class="c1"># 顺序执行(也就是串行执行，单进程)</span>
    <span class="n">s</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">fn</span> <span class="ow">in</span> <span class="n">testFL</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="n">run</span><span class="p">(</span><span class="n">fn</span><span class="p">))</span>

    <span class="n">e1</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;顺序执行时间：&quot;</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="n">e1</span> <span class="o">-</span> <span class="n">s</span><span class="p">))</span>

    <span class="k">print</span><span class="p">(</span><span class="s1">&#39;多进程执行:&#39;</span><span class="p">)</span>  <span class="c1"># 创建多个进程，并行执行</span>
    <span class="n">pool</span> <span class="o">=</span> <span class="n">Pool</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>  <span class="c1"># 创建拥有5个进程数量的进程池</span>
    <span class="c1"># testFL:要处理的数据列表，run：处理testFL列表中数据的函数</span>
    <span class="n">rl</span> <span class="o">=</span> <span class="n">pool</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">run</span><span class="p">,</span> <span class="n">testFL</span><span class="p">)</span>
    <span class="c1"># for fn in testFL:</span>
    <span class="c1">#     pool.apply_async(run, args=(fn, ))</span>
    <span class="n">pool</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>  <span class="c1"># 关闭进程池，不再接受新的进程</span>
    <span class="n">pool</span><span class="o">.</span><span class="n">join</span><span class="p">()</span>  <span class="c1"># 主进程阻塞等待子进程的退出</span>
    <span class="n">e2</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
    <span class="k">print</span><span class="p">(</span><span class="n">rl</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;并行执行时间：&quot;</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="n">e2</span> <span class="o">-</span> <span class="n">e1</span><span class="p">))</span>
</pre></div>
</td></tr></table></p>
</li>
<li>响应：
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>顺序执行:
1
4
9
16
25
36
顺序执行时间： 6
多进程执行:
[1, 4, 9, 16, 25, 36]
并行执行时间： 2
</pre></div>
</td></tr></table></li>
</ul>
<h3 id="7-queue">7. 进程池使用queue队列<a class="headerlink" href="#7-queue" title="Permanent link">&para;</a></h3>
<p><font color='red'>注意：</font>进程池使用队列，应使用<code>Manager</code>对象的Queue
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kn">from</span> <span class="nn">multiprocessing</span> <span class="kn">import</span> <span class="n">Manager</span>
<span class="n">qid_queue</span> <span class="o">=</span> <span class="n">Manager</span><span class="p">()</span><span class="o">.</span><span class="n">Queue</span><span class="p">()</span>
</pre></div>
</td></tr></table></p>
</li>
</ul>
<h3 id="8-operatoritemgetter">8. operator.itemgetter()<a class="headerlink" href="#8-operatoritemgetter" title="Permanent link">&para;</a></h3>
<p>返回一个可调用对象，该对象使用被操作元的**<code>__getitem__()</code><strong>方法从其被操作元获取**项</strong>。通过该函数作用到对象上才能获取值。如果指定了多个项，则返回查找值的一组。例如:</p>
<blockquote>
<ul>
<li>在f = itemgetter(2)之后，调用f&reg;返回r[2]。</li>
<li>在g = itemgetter(2,5,3)之后，调用g&reg;返回(r[2]， r[5]， r[3])。</li>
</ul>
</blockquote>
<p>等价于:
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="k">def</span> <span class="nf">itemgetter</span><span class="p">(</span><span class="o">*</span><span class="n">items</span><span class="p">):</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">items</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
        <span class="n">item</span> <span class="o">=</span> <span class="n">items</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">def</span> <span class="nf">g</span><span class="p">(</span><span class="n">obj</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">obj</span><span class="p">[</span><span class="n">item</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">def</span> <span class="nf">g</span><span class="p">(</span><span class="n">obj</span><span class="p">):</span>
            <span class="k">return</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">obj</span><span class="p">[</span><span class="n">item</span><span class="p">]</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">items</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">g</span>
</pre></div>
</td></tr></table>
项可以是被操作元的**<code>__getitem__()</code>**方法所接受的任何类型。字典接受各种哈希值，列表、元组和字符串接受索引或片:
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5
6</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>&gt;&gt;&gt; itemgetter(1)(&#39;ABCDEFG&#39;)
&#39;B&#39;
&gt;&gt;&gt; itemgetter(1,3,5)(&#39;ABCDEFG&#39;)
(&#39;B&#39;, &#39;D&#39;, &#39;F&#39;)
&gt;&gt;&gt; itemgetter(slice(2,None))(&#39;ABCDEFG&#39;)
&#39;CDEFG&#39;
</pre></div>
</td></tr></table>
在版本2.5中更改:添加了对多个项目提取的支持。
使用itemgetter()从元组记录中检索特定字段的示例:
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5
6</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>&gt;&gt;&gt; inventory = [(&#39;apple&#39;, 3), (&#39;banana&#39;, 2), (&#39;pear&#39;, 5), (&#39;orange&#39;, 1)]
&gt;&gt;&gt; getcount = itemgetter(1)
&gt;&gt;&gt; map(getcount, inventory)
[3, 2, 5, 1]
&gt;&gt;&gt; sorted(inventory, key=getcount)
[(&#39;orange&#39;, 1), (&#39;banana&#39;, 2), (&#39;apple&#39;, 3), (&#39;pear&#39;, 5)]
</pre></div>
</td></tr></table></p>
<h3 id="9-sorted">9. sorted()内建函数<a class="headerlink" href="#9-sorted" title="Permanent link">&para;</a></h3>
<p><strong>sort 与 sorted 区别：</strong></p>
<blockquote>
<ul>
<li>sort 是应用在 list 上的方法，sorted 可以对所有可迭代的对象进行排序操作。</li>
<li>list 的 sort 方法返回的是对已经存在的列表进行操作，而内建函数 sorted 方法返回的是一个新的 list，而不是在原来的基础上进行的操作。</li>
</ul>
</blockquote>
<p><strong>sorted 语法：</strong></p>
<blockquote>
<p>sorted(iterable[, cmp[, key[, reverse]]])</p>
</blockquote>
<p>参数说明：</p>
<blockquote>
<ul>
<li>iterable -- 可迭代对象。</li>
<li>cmp -- 比较的函数，这个具有两个参数，参数的值都是从可迭代对象中取出，此函数必须遵守的规则为，大于则返回1，小于则返回-1，等于则返回0。</li>
<li>key -- 主要是用来进行比较的元素，只有一个参数，具体的函数的参数就是取自于可迭代对象中，指定可迭代对象中的一个元素来进行排序。</li>
<li>reverse -- 排序规则，reverse = True 降序 ， reverse = False 升序（默认）。</li>
</ul>
</blockquote>
<p><strong>例子：</strong>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>&gt;&gt;&gt;a = [5,7,6,3,4,1,2]
&gt;&gt;&gt; b = sorted(a)       # 保留原列表
&gt;&gt;&gt; a 
[5, 7, 6, 3, 4, 1, 2]
&gt;&gt;&gt; b
[1, 2, 3, 4, 5, 6, 7]

&gt;&gt;&gt; L=[(&#39;b&#39;,2),(&#39;a&#39;,1),(&#39;c&#39;,3),(&#39;d&#39;,4)]
&gt;&gt;&gt; sorted(L, cmp=lambda x,y:cmp(x[1],y[1]))   # 利用cmp函数
[(&#39;a&#39;, 1), (&#39;b&#39;, 2), (&#39;c&#39;, 3), (&#39;d&#39;, 4)]
&gt;&gt;&gt; sorted(L, key=lambda x:x[1])               # 利用key
[(&#39;a&#39;, 1), (&#39;b&#39;, 2), (&#39;c&#39;, 3), (&#39;d&#39;, 4)]


&gt;&gt;&gt; students = [(&#39;john&#39;, &#39;A&#39;, 15), (&#39;jane&#39;, &#39;B&#39;, 12), (&#39;dave&#39;, &#39;B&#39;, 10)]
&gt;&gt;&gt; sorted(students, key=lambda s: s[2])            # 按年龄排序
[(&#39;dave&#39;, &#39;B&#39;, 10), (&#39;jane&#39;, &#39;B&#39;, 12), (&#39;john&#39;, &#39;A&#39;, 15)]

&gt;&gt;&gt; sorted(students, key=lambda s: s[2], reverse=True)       # 按降序
[(&#39;john&#39;, &#39;A&#39;, 15), (&#39;jane&#39;, &#39;B&#39;, 12), (&#39;dave&#39;, &#39;B&#39;, 10)]
</pre></div>
</td></tr></table>
<font color='red'><strong>注意</strong></font>：建议使用key，而不是cmp，因为key更节省内存空间</p>
<h3 id="10-python27-unicodedecodeerror-ascii-codec-cant-decode-byte-0xe5-in-position-108-ordinal-not-in-range128">10. python2.7 解决UnicodeDecodeError: ‘ascii’ codec can’t decode byte 0xe5 in position 108: ordinal not in range(128。。。。<a class="headerlink" href="#10-python27-unicodedecodeerror-ascii-codec-cant-decode-byte-0xe5-in-position-108-ordinal-not-in-range128" title="Permanent link">&para;</a></h3>
<p><font color='red'><strong>出现错误原因</strong></font>：</p>
<blockquote>
<p>python的str默认是ascii编码，和unicode编码冲突</p>
</blockquote>
<p><font color='red'><strong>解决方案</strong></font>：</p>
<blockquote>
<p>import sys
reload(sys)
sys.setdefaultencoding('utf8')</p>
</blockquote>
<h3 id="11-python">11. 几个有用的python函数 (笛卡尔积, 排列, 组合)<a class="headerlink" href="#11-python" title="Permanent link">&para;</a></h3>
<blockquote>
<ul>
<li><strong>product</strong> 笛卡尔积</li>
<li><strong>permutations</strong> 排列</li>
<li><strong>combinations</strong> 组合,没有重复</li>
<li><strong>combinations_with_replacement</strong> 组合,有重复
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>&gt;&gt;&gt; import itertools
&gt;&gt;&gt; for i in itertools.product(&#39;ABCD&#39;, r=2):
...     print i,
... 
(&#39;A&#39;, &#39;A&#39;) (&#39;A&#39;, &#39;B&#39;) (&#39;A&#39;, &#39;C&#39;) (&#39;A&#39;, &#39;D&#39;) (&#39;B&#39;, &#39;A&#39;) (&#39;B&#39;, &#39;B&#39;) (&#39;B&#39;, &#39;C&#39;) (&#39;B&#39;, &#39;D&#39;) (&#39;C&#39;, &#39;A&#39;) (&#39;C&#39;, &#39;B&#39;) (&#39;C&#39;, &#39;C&#39;) (&#39;C&#39;, &#39;D&#39;) (&#39;D&#39;, &#39;A&#39;) (&#39;D&#39;, &#39;B&#39;) (&#39;D&#39;, &#39;C&#39;) (&#39;D&#39;, &#39;D&#39;)
&gt;&gt;&gt; for i in itertools.permutations(&#39;ABCD&#39;, 2):
...     print i,
... 
(&#39;A&#39;, &#39;B&#39;) (&#39;A&#39;, &#39;C&#39;) (&#39;A&#39;, &#39;D&#39;) (&#39;B&#39;, &#39;A&#39;) (&#39;B&#39;, &#39;C&#39;) (&#39;B&#39;, &#39;D&#39;) (&#39;C&#39;, &#39;A&#39;) (&#39;C&#39;, &#39;B&#39;) (&#39;C&#39;, &#39;D&#39;) (&#39;D&#39;, &#39;A&#39;) (&#39;D&#39;, &#39;B&#39;) (&#39;D&#39;, &#39;C&#39;)
&gt;&gt;&gt; for i in itertools.combinations(&#39;ABCD&#39;, 2):
...     print i,
... 
(&#39;A&#39;, &#39;B&#39;) (&#39;A&#39;, &#39;C&#39;) (&#39;A&#39;, &#39;D&#39;) (&#39;B&#39;, &#39;C&#39;) (&#39;B&#39;, &#39;D&#39;) (&#39;C&#39;, &#39;D&#39;)
&gt;&gt;&gt; for i in itertools.combinations_with_replacement(&#39;ABCD&#39;, 2):
...     print i,
... 
(&#39;A&#39;, &#39;A&#39;) (&#39;A&#39;, &#39;B&#39;) (&#39;A&#39;, &#39;C&#39;) (&#39;A&#39;, &#39;D&#39;) (&#39;B&#39;, &#39;B&#39;) (&#39;B&#39;, &#39;C&#39;) (&#39;B&#39;, &#39;D&#39;) (&#39;C&#39;, &#39;C&#39;) (&#39;C&#39;, &#39;D&#39;) (&#39;D&#39;, &#39;D&#39;)
</pre></div>
</td></tr></table></li>
</ul>
</blockquote>
<h3 id="12-python">12. python求两个链表组成的数字的和<a class="headerlink" href="#12-python" title="Permanent link">&para;</a></h3>
<p>给定两个非空链表来表示两个非负整数。位数按照逆序方式存储，它们的每个节点只存储单个数字。将两数相加返回一个新的链表。
你可以假设除了数字 0 之外，这两个数字都不会以零开头
示例：</p>
<blockquote>
<p>输入：(2 -&gt; 4 -&gt; 3) + (5 -&gt; 6 -&gt; 4)
输出：7 -&gt; 0 -&gt; 8
原因：342 + 465 = 807</p>
</blockquote>
<p><strong>代码实现：</strong>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="c1"># Definition for singly-linked list.</span>
<span class="c1"># class ListNode:</span>
<span class="c1">#     def __init__(self, x):</span>
<span class="c1">#         self.val = x</span>
<span class="c1">#         self.next = None</span>

    <span class="k">def</span> <span class="nf">addTwoNumbers</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">l1</span><span class="p">,</span> <span class="n">l2</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :type l1: ListNode</span>
<span class="sd">        :type l2: ListNode</span>
<span class="sd">        :rtype: ListNode</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">val_sum</span> <span class="o">=</span> <span class="n">l1</span><span class="o">.</span><span class="n">val</span> <span class="o">+</span> <span class="n">l2</span><span class="o">.</span><span class="n">val</span>
        <span class="n">list_node</span> <span class="o">=</span> <span class="n">ListNode</span><span class="p">(</span><span class="n">val_sum</span> <span class="o">%</span> <span class="mi">10</span><span class="p">)</span>
        <span class="n">a</span> <span class="o">=</span> <span class="n">val_sum</span> <span class="o">//</span> <span class="mi">10</span>
        <span class="n">node</span> <span class="o">=</span> <span class="n">list_node</span>
        <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">l1</span> <span class="o">=</span> <span class="n">l1</span><span class="o">.</span><span class="n">next</span>
            <span class="k">except</span><span class="p">:</span>
                <span class="k">pass</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">l2</span> <span class="o">=</span> <span class="n">l2</span><span class="o">.</span><span class="n">next</span>
            <span class="k">except</span><span class="p">:</span>
                <span class="k">pass</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">l1</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">l2</span><span class="p">:</span>
                <span class="k">break</span>
            <span class="k">elif</span> <span class="ow">not</span> <span class="n">l1</span><span class="p">:</span>
                <span class="n">l1_val</span> <span class="o">=</span> <span class="mi">0</span>
                <span class="n">l2_val</span> <span class="o">=</span> <span class="n">l2</span><span class="o">.</span><span class="n">val</span>
            <span class="k">elif</span> <span class="ow">not</span> <span class="n">l2</span><span class="p">:</span>
                <span class="n">l2_val</span> <span class="o">=</span> <span class="mi">0</span>
                <span class="n">l1_val</span> <span class="o">=</span> <span class="n">l1</span><span class="o">.</span><span class="n">val</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">l1_val</span> <span class="o">=</span> <span class="n">l1</span><span class="o">.</span><span class="n">val</span>
                <span class="n">l2_val</span> <span class="o">=</span> <span class="n">l2</span><span class="o">.</span><span class="n">val</span>
            <span class="n">val_sum</span> <span class="o">=</span> <span class="n">l1_val</span> <span class="o">+</span> <span class="n">l2_val</span> <span class="o">+</span> <span class="n">a</span>
            <span class="n">temp_node</span> <span class="o">=</span> <span class="n">ListNode</span><span class="p">(</span><span class="n">val_sum</span> <span class="o">%</span> <span class="mi">10</span><span class="p">)</span>
            <span class="n">node</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">temp_node</span>
            <span class="n">node</span> <span class="o">=</span> <span class="n">temp_node</span>
            <span class="n">a</span> <span class="o">=</span> <span class="n">val_sum</span> <span class="o">//</span> <span class="mi">10</span>
        <span class="k">if</span> <span class="n">a</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">node</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">ListNode</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">list_node</span>
</pre></div>
</td></tr></table></p>
<h3 id="13-pythondivmoda-b">13. python内置函数——divmod(a, b)<a class="headerlink" href="#13-pythondivmoda-b" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>v2.7</p>
<blockquote>
<p>实际上是算a除以b的商和余数，返回(商，余数)</p>
</blockquote>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>divmod(1,2)
(0, 1)
divmod(5, 1)
(5, 0)
</pre></div>
</td></tr></table>

<h3 id="14-pythonenumeratesequence-start0">14. python内置函数——enumerate(sequence, start=0)<a class="headerlink" href="#14-pythonenumeratesequence-start0" title="Permanent link">&para;</a></h3>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>&gt;&gt;&gt; seasons = [&#39;Spring&#39;, &#39;Summer&#39;, &#39;Fall&#39;, &#39;Winter&#39;]
&gt;&gt;&gt; list(enumerate(seasons))
[(0, &#39;Spring&#39;), (1, &#39;Summer&#39;), (2, &#39;Fall&#39;), (3, &#39;Winter&#39;)]
&gt;&gt;&gt; list(enumerate(seasons, start=1))
[(1, &#39;Spring&#39;), (2, &#39;Summer&#39;), (3, &#39;Fall&#39;), (4, &#39;Winter&#39;)]
</pre></div>
</td></tr></table>

</li>
</ul>
<h3 id="15-pythonfilterfunction-iterable">15. python内置函数——filter(function, iterable)<a class="headerlink" href="#15-pythonfilterfunction-iterable" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>v2.7</p>
<ul>
<li>
<p>如果function是None，就等价于：</p>
<blockquote>
<p>[item for item in iterable if item]</p>
</blockquote>
</li>
<li>
<p>如果function不是None，就等价于：</p>
<blockquote>
<p>[item for item in iterable if function(item)]</p>
</blockquote>
</li>
</ul>
</li>
</ul>
<h3 id="16-datetime">16. datetime<a class="headerlink" href="#16-datetime" title="Permanent link">&para;</a></h3>
<p>datetime模块用于是date和time模块的合集，datetime有两个常量，MAXYEAR和MINYEAR，分别是9999和1.</p>
<blockquote>
<p>datetime模块定义了5个类，分别是
    1. datetime.date：表示日期的类
    2. datetime.datetime：表示日期时间的类
    3. datetime.time：表示时间的类
    4. datetime.timedelta：表示时间间隔，即两个时间点的间隔
    5. datetime.tzinfo：时区的相关信息</p>
</blockquote>
<ul>
<li>
<p><strong>datetime.date类</strong>
    date类有三个参数,datetime.date(year,month,day)，返回**datetime.date(2018, 7, 30)**</p>
<ul>
<li>
<p><strong>datetime.date.ctime()</strong>,返回格式如 Sun Apr 16 00:00:00 2017
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>&gt;&gt;&gt;datetime.date.ctime(datetime.date(2018, 7, 30))
&#39;Mon Jul 30 00:00:00 2018&#39;
</pre></div>
</td></tr></table></p>
</li>
<li>
<p><strong>datetime.date.fromtimestamp(timestamp)</strong>,根据给定的时间戮，返回一个date对象；**datetime.date.today()**作用相同
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>&gt;&gt;&gt;datetime.date.today()
datetime.date(2018, 7, 30)
</pre></div>
</td></tr></table></p>
</li>
<li>
<p><strong>datetime.date.isocalendar()</strong>:返回格式如(year，month，day)的元组
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>&gt;&gt;&gt;datetime.date.isocalendar(datetime.date(2018, 7, 30))
(2018, 31, 1)
</pre></div>
</td></tr></table></p>
</li>
<li>
<p><strong>datetime.date.isoformat()</strong>：返回格式如YYYY-MM-DD
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>&gt;&gt;&gt;datetime.date.isoformat(datetime.date(2018, 7, 30))
&#39;2018-07-30&#39;
</pre></div>
</td></tr></table></p>
</li>
<li>
<p><strong>datetime.date.isoweekday()</strong>：返回给定日期的星期（0-6），星期一=0，星期日=6
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>&gt;&gt;&gt;datetime.date.isoweekday(datetime.date.today())
1
</pre></div>
</td></tr></table></p>
</li>
<li>
<p><strong>datetime.date.replace(year,month,day)</strong>：替换给定日期，但不改变原日期
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>&gt;&gt;&gt;a = datetime.date.today()
&gt;&gt;&gt;a.replace(day=26)
datetime.date(2018, 7, 26)
</pre></div>
</td></tr></table></p>
</li>
<li>
<p><strong>datetime.date.strftime(format)</strong>:把日期时间按照给定的format进行格式化。
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>&gt;&gt;&gt;datetime.date.strftime(datetime.date.today(), &#39;%Y-%m-%d&#39;)
&#39;2018-07-30&#39;
</pre></div>
</td></tr></table>
    <table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>&gt;&gt;&gt;a = datetime.date.today()
&gt;&gt;&gt;a
datetime.date(2018, 7, 30)
&gt;&gt;&gt;a.strftime(&#39;%Y-%m-%d&#39;)
&#39;2018-07-30&#39;
</pre></div>
</td></tr></table></p>
</li>
<li>
<p><strong>datetime.date.timetuple()</strong>：返回日期对应的time.struct_time对象
```</p>
<blockquote>
<blockquote>
<blockquote>
<p>a = datetime.date.today()
datetime.date.timetuple(a)
time.struct_time(tm_year=2018, tm_mon=7, tm_mday=30, tm_hour=0, tm_min=0, tm_sec=0, tm_wday=0, tm_yday=211, tm_isdst=-1)</p>
</blockquote>
</blockquote>
</blockquote>
</li>
</ul>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>- **datetime.date.weekday()**：返回日期的星期
</pre></div>
</td></tr></table>

<blockquote>
<blockquote>
<blockquote>
<p>a = datetime.date.today()
datetime.date.weekday(a)
0</p>
<p>a.weekday()
0
```</p>
</blockquote>
</blockquote>
</blockquote>
</li>
<li>
<p><strong>datetime.time类</strong>
 time类有5个参数，datetime.time(hour,minute,second,microsecond,tzoninfo),返回08:29:30</p>
<ul>
<li>
<p><strong>datetime.time.replace()</strong>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>&gt;&gt;&gt;datetime.time.replace(datetime.time(), hour=1)
datetime.time(1, 0)
</pre></div>
</td></tr></table></p>
</li>
<li>
<p><strong>datetime.time.strftime(format)</strong>:按照format格式返回时间
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>&gt;&gt;&gt;datetime.time.strftime(datetime.time(2,3), &quot;%H:%M&quot;)
&#39;02:03&#39;
</pre></div>
</td></tr></table></p>
</li>
<li>
<p><strong>datetime.time.tzname()</strong>：返回时区名字</p>
</li>
<li>
<p><strong>datetime.time.utcoffset()</strong>：返回时区的时间偏移量</p>
</li>
</ul>
</li>
<li>
<p><strong>datetime.datetime类</strong>
    datetime类有很多参数，datetime(year, month, day[, hour[, minute[, second[,microsecond[,tzinfo]]]]])，返回年月日，时分秒</p>
<ul>
<li>
<p><strong>datetime.datetime.ctime()</strong></p>
</li>
<li>
<p><strong>datetime.datetime.now().date()</strong>：返回当前日期时间的日期部分</p>
</li>
<li>
<p><strong>datetime.datetime.now().time()</strong>：返回当前日期时间的时间部分</p>
</li>
<li>
<p><strong>datetime.datetime.fromtimestamp()</strong></p>
</li>
<li>
<p><strong>datetime.datetime.now()</strong>：返回当前系统时间</p>
</li>
<li>
<p><strong>datetime.datetime.replace()</strong></p>
</li>
<li>
<p><strong>datetime.datetime.strftime()</strong>：由日期格式转化为字符串格式
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>&gt;&gt;&gt;datetime.datetime.now().strftime(&#39;%b-%d-%Y %H:%M:%S&#39;)
&#39;Apr-16-2017 21:01:35&#39;
</pre></div>
</td></tr></table></p>
</li>
<li><strong>datetime.datetime.strptime()</strong>:由字符串格式转化为日期格式
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>&gt;&gt;&gt;datetime.datetime.strptime(&#39;Apr-16-2017 21:01:35&#39;, &#39;%b-%d-%Y %H:%M:%S&#39;)
2017-04-16 21:01:35
</pre></div>
</td></tr></table></li>
<li><strong>datetime.timedelta类</strong>
 datetime.datetime.timedelta用于计算两个日期之间的差值，例如：
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>&gt;&gt;&gt; a=datetime.datetime.now()
&gt;&gt;&gt; b=datetime.datetime.now()
&gt;&gt;&gt; a
datetime.datetime(2017, 4, 16, 21, 21, 20, 871000)
&gt;&gt;&gt; b
datetime.datetime(2017, 4, 16, 21, 21, 29, 603000)

&gt;&gt;&gt; b-a
datetime.timedelta(0, 8, 732000)
&gt;&gt;&gt; (b-a).seconds
8
</pre></div>
</td></tr></table>
或者
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>time1 = datetime.datetime(2016, 10, 20)
time2 = datetime.datetime(2015, 11, 2)
&quot;&quot;&quot;计算天数差值&quot;&quot;&quot;
print(time1-time2).days

&quot;&quot;&quot;计算两个日期之间相隔的秒数&quot;&quot;&quot;
print (time1-time2).total_seconds()
</pre></div>
</td></tr></table></li>
</ul>
</li>
</ul>
<h3 id="17-could-not-install-packages-due-to-an-environmenterror-errno-13-permission-denied-librarypython27site-packagesvine">17. 针对“could not install packages due to an EnvironmentError: [Errno 13] Permission denied: '/Library/Python/2.7/site-packages/vine'”的解决方式<a class="headerlink" href="#17-could-not-install-packages-due-to-an-environmenterror-errno-13-permission-denied-librarypython27site-packagesvine" title="Permanent link">&para;</a></h3>
<p><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>pip install --user flask
</pre></div>
</td></tr></table>
在install后加<font color='red'><strong>--user</strong></font></p>
<h3 id="18-xml">18. 字典转xml<a class="headerlink" href="#18-xml" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>v2.7
    dicttoxml会自动在头部添加<code>&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</code>
    并通过参数设置xml的属性</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>import dicttoxml
dicttoxml.dicttoxml(self.post_data_dict, root=True, custom_root=&quot;request&quot;, attr_type=False)
</pre></div>
</td></tr></table>

</li>
</ul>
<h3 id="19-orand">19. or和and<a class="headerlink" href="#19-orand" title="Permanent link">&para;</a></h3>
<p>如果用or，应该把为true的写在or前，减小运算时间；
如果用and，应该把false的写在and前</p>
<h3 id="20-xmltodict">20. xmltodict的坑<a class="headerlink" href="#20-xmltodict" title="Permanent link">&para;</a></h3>
<ul>
<li>如果xml中在同一级有相同元素，就会把相同元素变成列表；如果没有相同元素，那么就把该元素变为字典</li>
<li>对于xml中为空的情况，xmltodict会自动将值变为<code>None</code></li>
</ul>
<h3 id="21-if-else">21. 列表生成式中的if-else<a class="headerlink" href="#21-if-else" title="Permanent link">&para;</a></h3>
<ul>
<li>只有if</li>
</ul>
<p><table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>[a for a in a_list if a==1]
</pre></div>
</td></tr></table>
 - if-else</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>[a if a==1 else a-1 for a in a_list]
</pre></div>
</td></tr></table>

<h3 id="22-mysql-said-authentication-plugin-caching_sha2_password-cannot-be-loaded-dlopenusrlocal">22. 针对MySQL said: Authentication plugin 'caching_sha2_password' cannot be loaded: dlopen(/usr/local/...的问题<a class="headerlink" href="#22-mysql-said-authentication-plugin-caching_sha2_password-cannot-be-loaded-dlopenusrlocal" title="Permanent link">&para;</a></h3>
<p>在使用MySQL Workbench连接本地数据库的时候，出现了
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>MySQL said: Authentication plugin &#39;caching_sha2_password&#39; cannot be loaded: dlopen(/usr/local/lib/plugin/caching_sha2_password.so, 2): image not found
</pre></div>
</td></tr></table>
这是因为在链接数据库时不能加载‘caching_sha2_password'这个插件，也就是不能对身份验证。</p>
<p>解决方案是：
    1. 打开系统偏好设置，找到mysql，点击Initialize Database。
    2. 输入你的新密码，记住这个密码，用于后期链接数据库的登陆使用。
    3. 选择‘Use legacy password‘。
    4. 重启mysql服务。
这样在连接就没有问题了
<img alt="image_1cktk6n6bvdc1210o2jeotrnm9.png-380.8kB" src="http://static.zybuluo.com/chuxiaoyi/zq7tgu3d2ygiplckpf8k0y2a/image_1cktk6n6bvdc1210o2jeotrnm9.png" /></p>
<h3 id="23-django-model">23. django model获取特定字段<a class="headerlink" href="#23-django-model" title="Permanent link">&para;</a></h3>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>comment_list = Comment.objects.all()[:5].only(&#39;post&#39;, &#39;text&#39;)   # 只获取特定字段
</pre></div>
</td></tr></table>

<h3 id="24-connection-reset-by-peer">24. Connection reset by peer的常见原因<a class="headerlink" href="#24-connection-reset-by-peer" title="Permanent link">&para;</a></h3>
<p>Connection reset by peer: socket write error错误分析：</p>
<blockquote>
<p>常出现的Connection reset by peer: 原因可能是多方面的，不过更常见的原因是：<br />
①：服务器的并发连接数超过了其承载量，服务器会将其中一些连接Down掉；<br />
②：客户关掉了浏览器，而服务器还在给客户端发送数据；<br />
③：浏览器端按了Stop  </p>
</blockquote>
<p>通常原因为：远程主机上对等方应用程序突然停止运行，或远程主机重新启动，或远程主机在远程方套接字上使用了“强制”关闭 （参见setsockopt(SO_LINGER)）。另外，在一个或多个操作正在进行时，如果连接因“keep-alive”活动检测到一个失败而中 断，也可能导致此错误。此时，正在进行的操作以错误码WSAENETRESET失败返回，后续操作将失败返回错误码WSAECONNRESET。
但是如果频繁出现，就表示很 多客户端连接到Apache服务器的响应时间太长了，可能是网络的问题或者服务器性能问题。</p>
                
                  
                
              
              
                


  <h2 id="__comments">Comments</h2>
  <div id="disqus_thread"></div>
  <script>
    var disqus_config = function () {
      this.page.url = "http:// www.chuxiaoyi.cn/others/daily_problem/";
      this.page.identifier =
        "/others/daily_problem/";
    };
    (function() {
      var d = document, s = d.createElement("script");
      s.src = "//chuxiaoyi.disqus.com/embed.js";
      s.setAttribute("data-timestamp", +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script>

              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../../Django/drf-02/" title="django-rest-framework文档整理-Request and Response（二）" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                django-rest-framework文档整理-Request and Response（二）
              </span>
            </div>
          </a>
        
        
          <a href="../calculate_string_similar/" title="计算字符串相似度的一些方法" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                计算字符串相似度的一些方法
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            author by ChuXiaoYi
          </div>
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
  <div class="md-footer-social">
    <link rel="stylesheet" href="../../assets/fonts/font-awesome.css">
    
      <a href="https://github.com/ChuXiaoYi?tab=repositories" class="md-footer-social__link fa fa-github"></a>
    
      <a href="https://blog.csdn.net/weixin_40156487" class="md-footer-social__link fa fa-book"></a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.39abc4af.js"></script>
      
      <script>app.initialize({version:"1.0.3",url:{base:"../.."}})</script>
      
    
  </body>
</html>